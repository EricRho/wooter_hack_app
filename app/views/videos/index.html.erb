<nav class='navbar navbar-default'>
  <div class='container-fluid'>
    <div class='navbar-header'>
      <a class='navbar-brand' href='/'>Proving Grounds</a>
    </div>
    <div class='collapse navbar-collapse'>
    <!--   <form class='navbar-form navbar-left' role='search'>
        <div class='form-group'>
          <input type='text' class='form-control' placeholder='Search'>
        </div>
        <button type='submit' class='btn btn-default'>Search</button>
      </form>
 -->

      <!-- <form class='navbar-form navbar-left' role='search'> -->
        <%= form_tag videos_path, :method => 'get' do %>
          <%= text_field_tag :search, params[:search], :class => 'p-input' %>
        <%= submit_tag ">", :class => 'b-input' %>
        <% end %>
      <!-- </form> -->
        <ul class='nav navbar-nav navbar-right'>
          <% if user_signed_in? %>
            <li>
              <%= link_to("#{current_user.name}", edit_user_registration_path) %>
            </li>
            <li>
              <%= link_to('Logout', destroy_user_session_path, :method => :delete) %> 
            </li>
          <% else %>
            <li>
              <%= link_to "Sign in with Google", user_omniauth_authorize_path(:google_oauth2) %>
            </li>
          <% end %>
        </ul>
    </div>
  </div>
</nav>
<script type="text/javascript">

$(document).ready(function() {
setHeight($('.filter_menu'), $('.filter_results'));
// When the window is resized the height might
// change depending on content. So to be safe
// we rerun the function
$(window).on(resize, function() {
setHeight($('#.filter_menu'), $('.filter_results'));
});
});
// sets height of element 1 to equal the height of element 2
function setHeight(elem1, elem2) {
var height = elem2.height()
elem1.css('height', height);
}
</script>
<section class="new_body">
  <div class="rows">
    <div class="col-sm-2 filter_menu">
      <h1 class='chosen_sport'>Proving Grounds</h1>
      <ul class="techniques">
        <li class="types">
          <a href="/videos?utf8=✓&search=Basketball&commit=>>">Basketball</a>
        </li>
        <li class="types">
          <a href="/videos?utf8=✓&search=Soccer&commit=>>">Soccer</a>
        </li>
        <li class="types">
          <a href="/videos?utf8=✓&search=Baseball&commit=>>">Baseball</a>
        </li>
        <li class="types">
          <a href="/videos?utf8=✓&search=Football&commit=>>">Football</a>
        </li>
        <ul>
        </div>
        <div class="col-sm-10 filter_results">
          <!-- Videos -->
          <div id='page-content-wrapper'>
            <div class='container-fluid'
              <% if @videos.any? %>
              <!-- Modal -->
              <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog modal-lg" role="document">
                  <div class="modal-content">
                    <div class="modal-header">
                      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                      <h4 class="modal-title" id="myModalLabel"></h4>
                    </div>
                    <div class="modal-body" style='min-height: 320px;'>
                      <div id='player-wrapper' style='height: 420px;'></div>
                    </div>
                  </div>
                </div>
              </div>
              <% @videos.in_groups_of(3) do |group| %>
              <div class="row">
                <% group.each do |video| %>
                <% if video %>
                <div class="col-md-4">
                  <div class="yt_video thumbnail" data-toggle='modal' data-target='#myModal' data-show='false'>
                    <%= image_tag "https://img.youtube.com/vi/#{video.uid}/mqdefault.jpg", alt: video.title, class: 'yt_preview img-rounded', :"data-uid" => video.uid %>
                    <div class="caption">
                      <h5><%= video.title %></h5>
                      <p>Author: <b><%= video.author %></b></p>
                      <p>Duration: <b><%= video.duration %></b></p>
                      <p>Sport: <b><%= video.sport %></b></p>
                      <p><%= link_to 'Edit', edit_video_path(video) %></p>
                      <p><%= link_to('Delete', video, method: :delete, data: {confirm: 'Are you sure?'})%></p>
                    </div>
                  </div>
                </div>
                <% end %>
                <% end %>
              </div>
              <% end %>
            </div>
            <% end %>
          </div>
        </div>
        <!-- <h1>Listing Videos</h1>
        <table>
          <thead>
            <tr>
              <th>Title</th>
              <th>Author</th>
              <th>Link</th>
              <th>Duration</th>
              <th colspan="3"></th>
            </tr>
          </thead>
          <tbody>
            <% @videos.each do |video| %>
            <tr>
              <td><%= video.title %></td>
              <td><%= video.author %></td>
              <td><%= video.link %></td>
              <td><%= video.duration %></td>
              <td><%= link_to 'Show', video %></td>
              <td><%= link_to 'Edit', edit_video_path(video) %></td>
              <td><%= link_to 'Destroy', video, method: :delete, data: { confirm: 'Are you sure?' } %></td>
            </tr>
            <% end %>
          </tbody>
        </table> -->
      </div>
    </div>
    <div class="clear"></div>
  </section>
  </style>
  <footer>
    <div class="wooter_mention">
      <p>
        <a href="http://wooter.co">
          <img src="assets/powered.png" alt="Wooter Logo">
        </a>
      </p>
      <div class="clear"></div>
    </div>
  </footer>