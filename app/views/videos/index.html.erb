
<div class="navigation">

  <h1>Proving Grounds</h1>

  <div class='s-input'>
    <%= form_tag videos_path, :method => 'get' do %>
    <p>
      <%= text_field_tag :search, params[:search], :class => 'p-input', :placeholder => 'Choose A Sport' %>
      <%= submit_tag ">", :class => 'b-input' %>
    </p>
    <% end %>
  </div>

 <% if user_signed_in? %>

    <div class="request">
      <% if current_user.admin == true %>
      <%= link_to 'Add Video', new_video_path, class: 'request_details' %>
      <% end %>
      <%= current_user.name %>
    </div>

    <div class="logout">
        <p><%= link_to('Logout', destroy_user_session_path, :method => :delete) %></p>
    </div>

  <% else %>
    <div class="login">
      <p><%= link_to('Sign In With Google', user_omniauth_authorize_path(:google_oauth2)) %></p>
    </div>
  <% end %> 
  <div class="clear"></div>
</div>



<section class="new_body">
  <div class="rows">
    <div class="col-sm-2 filter_menu">
      <ul>
        
          <a href="/videos?utf8=✓&search=Basketball&commit=>>"><li>Basketball</li></a>
      
          <a href="/videos?utf8=✓&search=Soccer&commit=>>"><li>Soccer</li></a>
       
          <a href="/videos?utf8=✓&search=Baseball&commit=>>"><li>Baseball</li></a>
   
          <a href="/videos?utf8=✓&search=Football&commit=>>"><li>Football</li></a>
       
        <ul>
        </div>
        <div class="col-sm-10 filter_results">
          <!-- Videos -->
          <div id='page-content-wrapper'>
            <div class='container-fluid'
              
              <% if @videos.any? %>

              <% @videos.in_groups_of(3) do |group| %>
              
              <div class="row">
                
                <% group.each do |video| %>
                
                <% if video %>
                
                <div class="col-md-4">
                
                  <div class="yt_video" data-toggle='modal' data-target='#myModal' data-show='false'>
                
                    <%= image_tag "https://img.youtube.com/vi/#{video.uid}/mqdefault.jpg", alt: video.title, class: 'yt_preview', :"data-uid" => video.uid %>
                
                    <div class="caption">
                      <ul>
                        <li class='category1'>Skill</li>
                        <li class='category2'>Time</li>
                        <li class='category3'>Rating</li>
                        <li class='category5'>Author</li>
                        <li class='category4'>Title</li>
                      </ul>
                      <div class="clear"></div>

                      <p class='appear appear1 '><b><%= video.sport %></b> - <%= video.skill %></p>
                      <p class='appear appear2 hide'><b><%= video.duration %></b></p>
                      <p class='appear appear3 hide'><b>Rating / 5</b></p>
                      <p class='appear appear4 hide'><b><%= video.author %></b></p>
                      <p class='appear appear5 hide'><b><%= video.title %></b></p>

                      <script>
                        
                     
                          $('.category2').hover(
                                 function(){ $('.appear1').addClass('hide'); $('.appear2').removeClass('hide'); },
                                 function(){ $('.appear2').addClass('hide'); $('.appear1').removeClass('hide'); }
                          )
                          $('.category3').hover(
                                 function(){ $('.appear1').addClass('hide'); $('.appear3').removeClass('hide'); },
                                 function(){ $('.appear3').addClass('hide'); $('.appear1').removeClass('hide'); }
                          )
                          $('.category4').hover(
                                 function(){ $('.appear1').addClass('hide'); $('.appear4').removeClass('hide'); },
                                 function(){ $('.appear4').addClass('hide'); $('.appear1').removeClass('hide'); }
                          )
                          $('.category5').hover(
                                 function(){ $('.appear1').addClass('hide'); $('.appear5').removeClass('hide'); },
                                 function(){ $('.appear5').addClass('hide'); $('.appear1').removeClass('hide'); }
                          )



                      </script>


                      <p><%= link_to 'Edit', edit_video_path(video) %></p>
                      <p><%= link_to('Delete', video, method: :delete, data: {confirm: 'Are you sure?'})%></p>
                    </div>                   

                
                  </div>
                
                </div>
                <% end %>
                <% end %>
              </div>
              <% end %>
            </div>
            <% end %>
          </div>



        </div>
        <!-- <h1>Listing Videos</h1>
        <table>
          <thead>
            <tr>
              <th>Title</th>
              <th>Author</th>
              <th>Link</th>
              <th>Duration</th>
              <th colspan="3"></th>
            </tr>
          </thead>
          <tbody>
            <% @videos.each do |video| %>
            <tr>
              <td><%= video.title %></td>
              <td><%= video.author %></td>
              <td><%= video.link %></td>
              <td><%= video.duration %></td>
              <td><%= link_to 'Show', video %></td>
              <td><%= link_to 'Edit', edit_video_path(video) %></td>
              <td><%= link_to 'Destroy', video, method: :delete, data: { confirm: 'Are you sure?' } %></td>
            </tr>
            <% end %>
          </tbody>
        </table> -->
      </div>
    </div>
    <div class="clear"></div>
  </section>
  <footer>
      <p>
        <a href="http://wooter.co">
          <img src="assets/powered.png" alt="Wooter Logo">
        </a>
      </p>
      <div class="clear"></div>
  </footer>

              <!-- Modal -->
              <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                <div class="modal-dialog modal-lg" role="document">
                  <div class="modal-content">
                    <div class="modal-header">
                      <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                      <h4 class="modal-title" id="myModalLabel"></h4>
                    </div>
                    <div class="modal-body" style='min-height: 320px;'>
                      <div id='player-wrapper' style='height: 420px;'></div>
                    </div>
                  </div>
                </div>
              </div>

<script type="text/javascript">

$(document).ready(function() {
setHeight($('.filter_menu'), $('.filter_results'));
// When the window is resized the height might
// change depending on content. So to be safe
// we rerun the function
$(window).on(resize, function() {
setHeight($('#.filter_menu'), $('.filter_results'));
});
});
// sets height of element 1 to equal the height of element 2
function setHeight(elem1, elem2) {
var height = elem2.height()
elem1.css('height', height);
}
</script>
